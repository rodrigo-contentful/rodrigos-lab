# Content type report

Script that anaylse the Content model JSON generated by CLI or CMA and present an HTML report on content types.

# Use package

This is distributed as 3 binaries compiled for linux,mac or windows.

## Use CLI

Using the cli directly (depending on OS):

```
$ ./contentAnalyser_linux -f some/file/fileName.json
```

```
$ ./contentAnalyser_linux -d some/files/folder/
```
### options

-f: json file to analyse

-d: parse a directory of json spaces and return a report on each space and multispace similitud

## Use Docker

Place your(s) JSON files for each content  model inside the "task" folder, and use bash run.sh to execute.
The application will parse using a docker container, all json files located inside "task" folder and will return a single HTML file report.

```
$ ./run.sh
```
# Validations

#### Similar types
  - Sequence matcher for content type naming, lower threshold set to 70 %
  - Similarity of types base on fields: Type, Required, Localized, Disabled and Omited

#### ContentType and Fields validations
  - Look for validations based on fields names: "email","e-mail", "phone", "telephone", "mobile", "url", "link", "date""time"
  - Show broken references, when a reference field has links but ContentTypes do not exist

### planned validations

- Many assets validation, shows as lack of validations on report (DKABA good use case)

### todos
- Statistics of types repetition
## Example 

    ** Analysis Report **
    Description:
    [Notice] - Good practice attention.
    [Warning] - Possible issue.
    [Issue] - Issue, something to consider changing.

    Total ContentTypes: 10
    ***** REPORT ******* 

    ContentType name: Category
    ContentType id: category
    No  errors.

    ContentType name: Course
    ContentType id: course
    No  errors.

    ContentType name: Layout
    ContentType id: layout
    No  errors.

    ContentType name: Layout > Copy
    ContentType id: layoutCopy
    No  errors.

    ContentType name: Layout > Hero Image
    ContentType id: layoutHeroImage
    No  errors.

    ContentType name: Layout > Highlighted Course
    ContentType id: layoutHighlightedCourse
    No  errors.

    ContentType name: Lesson
    ContentType id: lesson
    No  errors.

    ContentType name: Lesson > Code Snippets
    ContentType id: lessonCodeSnippets
    No  errors.

    ContentType name: Lesson > Copy
    ContentType id: lessonCopy
    No  errors.

    ContentType name: Lesson > Image
    ContentType id: lessonImage
    No  errors.

# references
https://github.com/pmezard/go-difflib/blob/v1.0.0/difflib/difflib_test.go